"use strict";Component({properties:{content:{type:String,value:"当你看到我的时候，说明你已经在用我们微一案的UI框架了，请帮忙点个start ^_^，好人一生平安~"},color:{type:String,value:"#ff6600"},backgroundColor:{type:String,value:"#fff7cc"},scrollable:{type:Boolean,value:!0},leftIcon:{type:String,value:""},speed:{type:Number,value:40},delay:{type:Number,value:0},closable:{type:Boolean,value:!1}},data:{show:!0,width:void 0,wrapWidth:void 0,elapse:void 0,animation:null,resetAnimation:null,timer:null},ready:function(){this._init()},detached:function(){var t=this.data.timer;t&&clearTimeout(t)},methods:{_init:function(){var u=this;wx.createSelectorQuery().in(this).select("._content").boundingClientRect(function(t){if(!t||!t.width)throw new Error("未在页面中发现notice组件");u.setData({width:t.width}),wx.createSelectorQuery().in(u).select("._content-wrap").boundingClientRect(function(t){if(t&&t.width){var e=t.width,a=u.data,i=a.width,n=a.speed,o=a.scrollable,r=a.delay;if(o&&e<i){var l=i/n*1e3,s=wx.createAnimation({duration:l,delay:r}),c=wx.createAnimation({duration:0});u.setData({elapse:l,wrapWidth:e,width:i,animation:s,resetAnimation:c},function(){u._scroll()})}}}).exec()}).exec()},_scroll:function(){var t=this,e=this.data,a=e.animation,i=e.resetAnimation,n=(e.width,e.wrapWidth),o=e.speed,r=e.elapse;i.translateX(n).step();var l=a.translateX(-r*o/1e3).step();this.setData({animationData:i.export()}),setTimeout(function(){t.setData({animationData:l.export()})},100);var s=setTimeout(function(){t._scroll()},r);this.setData({timer:s})},_handleButtonClick:function(t){var e=this.data.timer;e&&clearTimeout(e),this.setData({show:!1,timer:null})}}});