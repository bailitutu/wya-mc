"use strict";var _extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Component({options:{multipleSlots:!0},relations:{"../utils/tab-pane/index":{type:"child",linked:function(e){},linkChanged:function(e){},unlinked:function(e){}}},properties:{defaultActivityKey:{type:String,value:0},scrollable:{type:Boolean,value:!1},fixed:{type:Boolean,value:!1},height:{type:Number,value:90}},externalClasses:["tab-class","active-class"],ready:function(){this._getAllTabPane(),this.setData({currentIndex:this._getCurrentIndex()})},data:{nodes:[],currentIndex:0},methods:{_getAllTabPane:function(){var e=this.getRelationNodes("../utils/tab-pane/index");this.setData({nodes:this._formatNodes(e)})},_formatNodes:function(e){for(var t=[].concat(_toConsumableArray(e)),n=[],a=0;a<t.length;a++){if(!t[a].data.key)throw new Error("请检查tab-pane中是否传了key");n.push(_extends({},t[a].data))}return n},_getCurrentIndex:function(){var e=this.data,t=e.defaultActivityKey;return e.nodes.findIndex(function(e){return e.key==t})},handleChangeTab:function(e){var t=e.currentTarget.id;this.setData({currentIndex:t})},handleChangeSwiper:function(e){this.data.nodes;var t=e.detail.source,n=e.detail.current;"touch"==t&&this.setData({currentIndex:n})}}});