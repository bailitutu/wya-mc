"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a])}return t},timeoutData={timeoutId:0,toastCtx:null},getPageCtx=function(){var t=getCurrentPages();return t[t.length-1]},Toast=function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};"string"==typeof e&&(e={message:e});var o=getPageCtx().selectComponent(e.selector);if(o){timeoutData.timeoutId&&t.clear(),o.show(_extends({},e,{show:!0}));var a=setTimeout(function(){o.clear()},timeout||3e3);timeoutData={timeoutId:a,toastCtx:o}}else console.error("无法找到对应的toast组件，请于页面中注册并在 wxml 中声明 toast 自定义组件")};Toast.clear=function(){timeoutData.timeoutId&&clearTimeout(timeoutData.timeoutId);try{timeoutData.toastCtx&&timeoutData.toastCtx.clear()}catch(t){console.log(t)}timeoutData={timeoutId:0,toastCtx:null}},Toast.loading=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];Toast(_extends({},t,{timeout:e,type:"loading"}))},Toast.success=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];Toast(_extends({},t,{timeout:e,type:"success"}))},Toast.fail=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];Toast(_extends({},t,{timeout:e,type:"fail"}))},exports.default=Toast;